<!doctype html>
<html lang="lang="pt-br"">
  <head>
    <meta charset="utf-8" />
    <title>WebGL Demo</title>
   
  </head>

  <body>
    <div id="root">
        
    </div>


    <!-- vertex shader  GLSL openGL shader language -->
    <script id="vertex-shader" type="x-shader/x-vertex">

        attribute vec3 position;
        attribute vec4 color;
        uniform mat4 model;
        varying vec4 vColor;
      
      
        void main() {
            vColor = color;

            // ---------------------------------------------

            // gl_Position = model * vec4(position, 1.0); // Draw the vertices cube model
            // gl_Position = vec4(position, 1.0); // Draw the vertices

            // ---------------------------------------------

            // First transform the point
            vec4 transformedPosition = model * vec4(position, 1.0);

            // How much effect does the perspective have?
            float scaleFactor = 0.5;

            // Set w by taking the z value which is typically ranged -1 to 1, then scale
            // it to be from 0 to some number, in this case 0-1.
            float w = (1.0 + transformedPosition.z) * scaleFactor;

            // Save the new gl_Position with the custom w component
            gl_Position = vec4(transformedPosition.xyz, w);

            // ---------------------------------------------
            
        }
      </script>

       <!-- vertex shader  GLSL openGL shader language -->
      <script id="fragment-shader" type="x-shader/x-fragment">
        precision mediump float;
        varying vec4 vColor;
        uniform vec4 color;
        
        void main() {
            //gl_FragColor = color; // color from the uniform
            gl_FragColor = vColor; // color from the vertex shader
            //gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0); // red
        }
      </script>

  </body>
  <script src="webGl.js" type="module"></script>
</html>